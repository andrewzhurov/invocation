digraph {
    node [
      style = rounded
      shape = box
    ]

    Receipt -> Memoization
    Invocation -> Envelope -> Receipt -> Promise -> Pipeline
    Envelope -> Batch -> Pipeline
}
